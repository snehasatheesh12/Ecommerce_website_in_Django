{% extends 'base.html' %}
{% load static %}
{% block content%}
<script>
    // Function to validate the form
    function validateForm(event) {
        event.preventDefault();

        // Get form elements
        const username = document.getElementById("username").value.trim();
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();
        const confirmPassword = document.querySelector("input[name='confirm_password']").value.trim();
        const firstName = document.querySelector("input[name='first_name']").value.trim();
        const lastName = document.querySelector("input[name='last_name']").value.trim();
        const phoneNumber = document.querySelector("input[name='phone_number']").value.trim();
        const gender = document.querySelector("select[name='gender']").value;
        const vehicleNumber = document.querySelector("input[name='vehicle_number']").value.trim();
        const profilePic = document.querySelector("input[name='profile_pic']").value;
        const terms = document.querySelector(".checkbox-item input").checked;

        // Regular expressions for email and phone validation
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        const phonePattern = /^[0-9]{10}$/;

        // Validation checks
        if (!username) {
            alert("Username is required.");
            return false;
        }
        if (!email || !emailPattern.test(email)) {
            alert("Please enter a valid email address.");
            return false;
        }
        if (!firstName) {
            alert("First Name is required.");
            return false;
        }
        if (!lastName) {
            alert("Last Name is required.");
            return false;
        }
        if (!phoneNumber || !phonePattern.test(phoneNumber)) {
            alert("Please enter a valid 10-digit phone number.");
            return false;
        }
        if (!password) {
            alert("Password is required.");
            return false;
        }
        if (password !== confirmPassword) {
            alert("Passwords do not match.");
            return false;
        }
        if (!gender) {
            alert("Please select your gender.");
            return false;
        }
        if (!vehicleNumber) {
            alert("Vehicle number is required.");
            return false;
        }
        if (!profilePic) {
            alert("Please upload a profile picture.");
            return false;
        }
        if (!terms) {
            alert("You must agree to the terms and conditions.");
            return false;
        }

        // If validation passes, submit the form
        alert("Form submitted successfully!");
        document.querySelector("form").submit();
    }

    // Attach the validation function to the form's submit event
    document.querySelector("form").addEventListener("submit", validateForm);
</script>
<form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-sm-4 col-lg-6 col-xs-12">
                <section class="login account footer-padding">
                    <div class="container">
                      
                        <div class="login-section account-section">
                            <div class="review-form">
                           
                                <h5 class="comment-title">Create Account</h5>
                                <div class="review-form-name">
                                    <label for="username" class="form-label">Username</label>
                                    <input type="text" id="username" class="form-control" placeholder="Username" name="username">
                                </div>
                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="email" class="form-label">Email*</label>
                                        <input type="email" id="email" class="form-control" placeholder="user@gmail.com" name="email">
                                    </div>
                                </div>
                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="Address" class="form-label">City</label>
                                        <input type="text" id="Address" class="form-control" placeholder="Address" name="city">
                                    </div>
                                </div>
                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="Address" class="form-label">State</label>
                                        <input type="text" id="Address" class="form-control" placeholder="Address" name="state">
                                    </div>
                                </div>
                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="Address" class="form-label">Zipcode</label>
                                        <input type="text" id="Address" class="form-control" placeholder="Address" name="postal_code">
                                    </div>
                                </div>
                                <div class="review-form-name">
                                    <label for="password" class="form-label">Password</label>
                                    <input type="password" id="password" class="form-control" placeholder="password" name="password">
                                </div>
                                <div class="review-form-name">
                                    <label for="password" class="form-label">Confirm Password</label>
                                    <input type="password" id="password" class="form-control" placeholder="password" name="confirm_password">
                                </div>
                              
                               
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                </section>
            </div>
            <div class="col-md-3 col-sm-4 col-lg-6 col-xs-12">
                <section class="login account footer-padding">
                    <div class="container">
                        
                        <div class="login-section account-section">
                            <div class="review-form">
                                <div class="review-form-name">
                                    <label for="First name" class="form-label">First Name</label>
                                    <input type="text" id="First name" class="form-control" placeholder="First name" name="first_name">
                                </div>
                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="Last name" class="form-label">Last Name</label>
                                        <input type="text" id="email" class="form-control" placeholder="Last name" name="last_name">
                                    </div>
                                </div>
                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="Phone Number" class="form-label">Phone Number</label>
                                        <input type="text" id="phone number" class="form-control" placeholder="Phone Number" name="phone_number">
                                    </div>
                                </div>

                                <div class=" account-inner-form">
                                    <div class="review-form-name">
                                        <label for="Address" class="form-label">Address</label>
                                        <input type="text" id="Address" class="form-control" placeholder="Address" name="address">
                                    </div>
                                </div>
                                
                                
                                <div class="review-form-name">
                                    <label for="password" class="form-label">upload photo</label>
                                    <input type="file" id="password" class="form-control" placeholder="" name="profile_pic">
                                </div>
                                <br>
                                <div class="review-form-name">
                                    <label for="gender" class="form-label">gender</label>

                                    <select id="gender" name="gender" required class="form-control">
                                        <option value="M">Male</option>
                                        <option value="F">Female</option>
                                        <option value="O">Other</option>
                                    </select><br><br>
                            
                                </div>
                               
                                <div class="review-form-name">
                                    <label for="vehicle_number">Vehicle Number:</label><br>
                                    <input type="text" id="vehicle_number" name="vehicle_number" maxlength="20" required class="form-control"><br><br>

                                </div>

                                <div class="review-form-name checkbox">
                                    <div class="checkbox-item">
                                        <input type="checkbox">
                                        <p class="remember">
                                            I agree all terms and condition in <span class="inner-text">ShopUs.</span></p>
                                    </div>
                                </div>
                                <div class="login-btn text-center">
                                    <input type="submit"  class="shop-btn" value="Create an Account">
                                    <span class="shop-account">Already have an account ?<a href="{% url 'delivery_login_view' %}">Log In</a></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                </section>
            </div>

        </div>
    </div>
</form>

<br>
<br>

{% if messages %}
<ul>
  {% for message in messages %}
    <li>{{ message }}</li>
  {% endfor %}
</ul>
{% endif %}

{% endblock %}
<style>
    .login {
        background: url("static/assets/images/homepage-one/login-bg.webp") no-repeat center / cover;
    }
</style>
    <script>
        $('.alert .close').on('click', function() {
            $(this).parent().fadeOut('slow');
        });
</script>